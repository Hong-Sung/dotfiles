# Prefix를 Ctrl+a로 (더 편함)
unbind C-b
set-prefix C-a
bind C-a send-prefix

# 마우스 지원
set -g mouse on
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"

# 윈도우 번호를 1부터 시작
set -g base-index 1
setw -g pane-base-index 1

# 더 나은 색상 지원
set -g default-terminal "screen-256color"

# 패널 분할 단축키 개선
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# 패널 번호로 직접 점프 (가장 빠름)
bind 1 select-pane -t 1
bind 2 select-pane -t 2
bind 3 select-pane -t 3
bind 4 select-pane -t 4

# 패널 번호 표시 시간 늘리기
set -g display-panes-time 3000

# 패널 이동
# Ctrl+Shift 조합 사용 (macOS 친화적)
bind -n C-S-Left select-pane -L
bind -n C-S-Right select-pane -R
bind -n C-S-Up select-pane -U
bind -n C-S-Down select-pane -D

# Prefix 없이 Ctrl + hjkl (vim 스타일)
bind -n C-h select-pane -L
bind -n C-j select-pane -D
bind -n C-k select-pane -U
bind -n C-l select-pane -R

# 설정 리로드
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# 복사 모드에서 vi 키 사용
setw -g mode-keys vi

# 기본 상태바 설정
set -g status-style bg=black,fg=white
set -g status-interval 1

# 왼쪽: 세션 이름과 Prefix 표시
set -g status-left-length 40
set -g status-left '#{?client_prefix,#[bg=red]#[fg=white] PREFIX ,#[bg=green]#[fg=black] OK }#[bg=blue]#[fg=white] #S '

# 오른쪽: 시간
set -g status-right '#[fg=white]%H:%M:%S'

# 윈도우 리스트 스타일
set -g window-status-format ' #I:#W '
set -g window-status-current-format '#[bg=white]#[fg=black] #I:#W '
